<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>–†–∞–∑–≤–æ–¥–õ–æ—Ö–æ–≤.ru - LOH Coin & Roblox</title>
<script defer data-domain="andreikakopeika.github.io/razvodloxov" src="https://plausible.io/js/script.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script> <!-- Added Chart.js library -->
<style>
  body{margin:0;padding:0;font-family:'Segoe UI',sans-serif;background:#0b0c10;color:#c5c6c7;overflow-x:hidden;}
  .header{background:#1f2833;padding:20px;text-align:center;border-bottom:3px solid #66fcf1;}
  .header h1{margin:0;font-size:44px;color:#45a29e;text-shadow:0 0 12px #66fcf1;}
  .container{width:100%;max-width:1100px;margin:20px auto;padding:0 20px;box-sizing:border-box;}

  /* –°—á—ë—Ç—á–∏–∫ –∑–∞—Å–∫–∞–º–ª–µ–Ω–Ω—ã—Ö –ª–æ—Ö–æ–≤ */
  .scam-counter{background:linear-gradient(135deg,#ff0844,#ffb199);padding:25px;border-radius:12px;margin:20px auto;max-width:600px;text-align:center;box-shadow:0 0 25px rgba(255,8,68,0.5);position:relative;overflow:hidden;}
  .scam-counter::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(45deg,transparent,rgba(255,255,255,0.1),transparent);animation:shine 2s infinite;}
  @keyframes shine{0%{transform:translateX(-100%);}100%{transform:translateX(100%);}}
  .scam-counter h2{margin:0 0 10px;font-size:28px;color:#fff;text-shadow:0 0 10px rgba(255,255,255,0.8);position:relative;z-index:2;}
  .scam-counter .number{font-size:48px;font-weight:bold;color:#fff;text-shadow:0 0 15px rgba(255,255,255,0.9);margin:10px 0;position:relative;z-index:2;animation:pulse-number 1.5s infinite alternate;}
  @keyframes pulse-number{from{transform:scale(1);}to{transform:scale(1.05);}}
  .scam-counter .subtitle{font-size:16px;color:#fff;opacity:0.9;position:relative;z-index:2;}
  .scam-counter.increment{animation:flash-increment 0.8s ease-out;}
  @keyframes flash-increment{0%{transform:scale(1);box-shadow:0 0 25px rgba(255,8,68,0.5);}50%{transform:scale(1.05);box-shadow:0 0 50px rgba(255,8,68,0.8);}100%{transform:scale(1);box-shadow:0 0 25px rgba(255,8,68,0.5);}}

  /* –°—Ç–∞—Ç—É—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ */
  .sync-status{position:absolute;top:10px;right:10px;padding:5px 10px;border-radius:15px;font-size:12px;font-weight:bold;z-index:3;}
  .sync-status.online{background:#4CAF50;color:#fff;}
  .sync-status.offline{background:#f44336;color:#fff;}
  .sync-status.loading{background:#ff9800;color:#fff;}

  /* –ì—Ä–∞—Ñ–∏–∫ */
  .graph{position:relative;width:100%;height:360px;background:linear-gradient(135deg,#1b2631,#0b0c10);border-radius:6px;overflow:hidden;box-shadow:0 0 20px rgba(0,0,0,0.8);margin-bottom:20px;}
  .graph canvas{display:block;width:100%!important;height:100%!important;} /* Ensure canvas takes full space */
  .graph-label{position:absolute;top:12px;left:12px;padding:4px 8px;background:rgba(0,0,0,0.5);border-radius:4px;font-size:16px;color:#66fcf1;font-weight:bold;z-index:10;}

  /* –°—É–ø–µ—Ä-–∫–Ω–æ–ø–∫–∞ –∂–µ–ª—Ç–∞—è —Å–∏—è–µ—Ç */
  .btn-super{animation:glow-super 1.5s infinite alternate;display:block;width:90%;max-width:700px;margin:40px auto;padding:22px;font-size:28px;font-weight:bold;text-align:center;color:#0b0c10;background:#f9e900;border:none;border-radius:8px;cursor:pointer;transition:transform .3s;}
  @keyframes glow-super{from{box-shadow:0 0 8px #f9e900;}to{box-shadow:0 0 20px #f9e900;}}
  .btn-super:hover{transform:scale(1.05);animation:none;box-shadow:0 0 30px #f9e900;}

  /* –û—Å—Ç–∞–ª—å–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ —Å–∏–Ω–∏–µ —Å–∏—è—é—Ç */
  button:not(.btn-super):not(.free-coin-btn):not(.copy-btn):not(.close-modal){background:#066dd9;color:#fff;border:none;border-radius:5px;animation:glow-blue 1.5s infinite alternate;transition:transform .2s;}
  @keyframes glow-blue{from{box-shadow:0 0 8px #66fcf1;}to{box-shadow:0 0 20px #66fcf1;}}
  button:not(.btn-super):not(.free-coin-btn):not(.copy-btn):not(.close-modal):hover{transform:scale(1.05);}

  /* –ò–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–∫–∞—á–∏–≤–∞–µ—Ç—Å—è –∏ –æ—Å—Ç–∞–µ—Ç—Å—è –∂–µ–ª—Ç–æ–π */
  .btn-invest{padding:16px 50px;background:#f9e900;color:#0b0c10;display:block;margin:10px auto 30px;font-size:22px;font-weight:bold;cursor:pointer;animation:shake2 2s infinite ease-in-out;}
  @keyframes shake2{0%,100%{transform:translateX(0);}25%{transform:translateX(-6px);}50%{transform:translateX(6px);}75%{transform:translateX(-6px);} }

  #countdown{text-align:center;font-size:26px;margin:15px 0;color:#ff5488;text-shadow:0 0 6px #ff5488;}

  .form-section{background:#1f2833;padding:25px;border-radius:6px;box-shadow:0 0 15px #000;margin:25px auto;max-width:550px;}
  .form-section h3{margin:0 0 12px;color:#66fcf1;font-size:20px;}
  .form-section label{display:block;margin:10px 0 6px;font-size:15px;}
  .form-section input{width:100%;padding:12px;border:1px solid #45a29e;border-radius:4px;background:#0b0c10;color:#c5c6c7;font-size:16px;box-sizing:border-box;}
  .form-section button{width:100%;padding:14px;margin-top:18px;font-size:18px;cursor:pointer;}

  .extra-buttons{display:flex;flex-wrap:wrap;justify-content:center;gap:15px;margin:20px 0;}
  .extra-buttons button{padding:12px 20px;font-size:16px;cursor:pointer;}

  /* –£—Å–ª—É–≥–∏ */
  .footer-services{background:#1f2833;padding:30px 20px;margin-top:40px;color:#c5c6c7;}
  .footer-services h3{margin-bottom:15px;color:#66fcf1;text-align:center;}
  .footer-services ul{list-style:none;padding:0;display:flex;flex-wrap:wrap;justify-content:center;gap:15px;}
  .footer-services li{background:#0b0c10;padding:10px 15px;border-radius:4px;box-shadow:0 0 10px rgba(0,0,0,0.7);}  

  .popup{position:fixed;width:320px;border:1px solid #ccc;background:#fefefe;box-shadow:0 0 20px rgba(0,0,0,0.6);border-radius:4px;overflow:hidden;font-family:'Segoe UI',sans-serif;z-index:20;}
  .popup .title{background:#0078d7;color:#fff;padding:10px;font-weight:bold;display:flex;justify-content:space-between;align-items:center;cursor:move;}
  .popup .title .close{cursor:pointer;color:#fff;font-size:16px;}
  .popup .content{padding:18px;font-size:15px;color:#000;}
  .popup .content .buttons{margin-top:15px;text-align:right;} /* Added for button alignment */
  .popup button{margin:8px 4px 4px 0;padding:6px 10px;cursor:pointer;font-weight:bold;background:#ddd;color:#333;border:1px solid #bbb; border-radius:3px; animation:none;box-shadow:none;} /* Reset button styles for popup */
  .popup button:hover{background:#ccc;transform:none;}


  /* –ê–Ω–∏–º–∞—Ü–∏—è +1 –ø—Ä–∏ —É–≤–µ–ª–∏—á–µ–Ω–∏–∏ —Å—á—ë—Ç—á–∏–∫–∞ */
  .plus-one{position:absolute;color:#fff;font-size:24px;font-weight:bold;text-shadow:0 0 10px rgba(255,255,255,0.8);pointer-events:none;animation:float-up 1.5s ease-out forwards;}
  @keyframes float-up{0%{opacity:1;transform:translateY(0px) scale(1);}100%{opacity:0;transform:translateY(-50px) scale(1.2);}}

  /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ –∫–æ–∏–Ω–∞ */
  .modal-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.8);z-index:1000;display:none;animation:fadeIn 0.3s ease-out;}
  @keyframes fadeIn{from{opacity:0;}to{opacity:1;}}
  
  .modal{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:linear-gradient(135deg,#1f2833,#0b0c10);border:2px solid #66fcf1;border-radius:12px;padding:30px;max-width:500px;width:90%;z-index:1001;box-shadow:0 0 30px rgba(102,252,241,0.5);animation:modalSlide 0.4s ease-out;}
  @keyframes modalSlide{from{opacity:0;transform:translate(-50%,-60%) scale(0.8);}to{opacity:1;transform:translate(-50%,-50%) scale(1);}}
  
  .modal h3{color:#66fcf1;text-align:center;margin:0 0 20px;font-size:24px;text-shadow:0 0 10px #66fcf1;}
  .modal p{color:#c5c6c7;text-align:center;margin:15px 0;line-height:1.5;}
  
  .link-container{background:#0b0c10;border:2px solid #45a29e;border-radius:8px;padding:15px;margin:20px 0;position:relative;}
  .link-text{color:#66fcf1;font-family:monospace;font-size:16px;word-break:break-all;text-align:center;margin-bottom:15px;}
  
  .copy-btn{background:linear-gradient(135deg,#45a29e,#66fcf1);color:#0b0c10;border:none;padding:12px 25px;border-radius:6px;font-weight:bold;cursor:pointer;width:100%;font-size:16px;transition:all 0.3s;animation:glow-copy 2s infinite alternate;}
  @keyframes glow-copy{from{box-shadow:0 0 10px rgba(102,252,241,0.5);}to{box-shadow:0 0 20px rgba(102,252,241,0.8);}}
  .copy-btn:hover{transform:translateY(-2px);box-shadow:0 5px 15px rgba(102,252,241,0.4);}
  
  .close-modal{position:absolute;top:10px;right:15px;background:none;border:none;color:#c5c6c7;font-size:24px;cursor:pointer;width:30px;height:30px;display:flex;align-items:center;justify-content:center;}
  .close-modal:hover{color:#ff5488;}
  
  .free-coin-btn{background:linear-gradient(135deg,#ff6b6b,#ff8e53);color:#fff;border:none;padding:20px 35px;font-size:22px;font-weight:bold;border-radius:12px;cursor:pointer;margin:10px;animation:mega-glow 1.5s infinite alternate;transition:all 0.3s;position:relative;overflow:hidden;text-transform:uppercase;letter-spacing:1px;border:3px solid #fff;box-shadow:0 5px 20px rgba(255,107,107,0.6);}
  @keyframes mega-glow{0%{box-shadow:0 0 20px #ff6b6b, 0 0 40px #ff8e53, 0 5px 20px rgba(255,107,107,0.6);}100%{box-shadow:0 0 40px #ff6b6b, 0 0 60px #ff8e53, 0 8px 30px rgba(255,107,107,0.8);}}
  .free-coin-btn::before{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,0.4),transparent);animation:shine-btn 3s infinite;}
  @keyframes shine-btn{0%{left:-100%;}100%{left:100%;}}
  .free-coin-btn:hover{transform:scale(1.1) translateY(-3px);box-shadow:0 10px 30px rgba(255,107,107,0.8);}

  /* –°–æ–æ–±—â–µ–Ω–∏–µ –æ —Ä–∞–∑–≤–æ–¥–µ */
  .scam-reveal{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:linear-gradient(135deg,#ff0844,#ff6b6b);color:#fff;padding:40px;border-radius:15px;text-align:center;font-size:28px;font-weight:bold;z-index:2000;box-shadow:0 0 50px rgba(255,8,68,0.8);animation:scamReveal 0.6s ease-out;display:none;}
  @keyframes scamReveal{0%{opacity:0;transform:translate(-50%,-50%) scale(0.3) rotate(-10deg);}100%{opacity:1;transform:translate(-50%,-50%) scale(1) rotate(0deg);}}
</style>
</head>
<body>
  <div class="header"><h1>–†–∞–∑–≤–æ–¥–õ–æ—Ö–æ–≤.ru</h1></div>
  <div class="container">
    
    <!-- –°—á—ë—Ç—á–∏–∫ –∑–∞—Å–∫–∞–º–ª–µ–Ω–Ω—ã—Ö –ª–æ—Ö–æ–≤ -->
    <div class="scam-counter" id="scamCounter">
      <div class="sync-status loading" id="syncStatus">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
      <h2>üéØ –ó–∞—Å–∫–∞–º–ª–µ–Ω–æ –ª–æ—Ö–æ–≤</h2>
      <div class="number" id="scamNumber">42,837</div>
      <div class="subtitle">–∏ —ç—Ç–æ —Ç–æ–ª—å–∫–æ —Å–µ–≥–æ–¥–Ω—è!</div>
    </div>

    <div class="graph" id="cryptoGraphContainer"> <!-- Changed ID to avoid conflict with variable -->
      <canvas id="cryptoGraphCanvas"></canvas> <!-- Added canvas element -->
      <div class="graph-label">LOH COIN</div>
    </div>
    <button class="btn-invest">–ò–ù–í–ï–°–¢–ò–†–û–í–ê–¢–¨</button>
    <div id="countdown">–í—Ä–µ–º—è –¥–æ –æ–∫–æ–Ω—á–∞–Ω–∏—è –∞–∫—Ü–∏–∏: 00:00:00</div>

    <div class="form-section">
      <h3>–£–∑–Ω–∞–π —Å–≤–æ—ë –∏–º—è –Ω–∞ —è–∑—ã–∫–µ Roblox!</h3>
      <label for="username">–ò–º—è:</label><input type="text" id="username" placeholder="–í–∞—à–µ –∏–º—è"/>
      <label for="cardnum">–ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã:</label><input type="text" id="cardnum" placeholder="1234 5678 9012 3456"/>
      <label for="cvv">CVV:</label><input type="password" id="cvv" maxlength="3" placeholder="123"/>
      <button id="nameBtn">–ü–æ–ª—É—á–∏—Ç—å –∏–º—è</button>
      <p id="nameResult" style="color: #66fcf1; margin-top: 10px; text-align: center;"></p>
    </div>

    <div class="extra-buttons">
      <button class="free-coin-btn" id="freeCoinBtn">üéÅ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π LOH –∫–æ–∏–Ω üéÅ</button>
      <button>–ü–æ–ª—É—á–∏—Ç—å –±–æ–Ω—É—Å</button>
      <button>–ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è</button>
      <button>–ü–æ–¥–µ–ª–∏—Ç—å—Å—è</button>
      <button>–ö—É–ø–∏—Ç—å –∞–∫—Ü–∏—é LOH</button>
      <button>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–∞–ª–∞–Ω—Å</button>
      <button>–û—Ç–∫—Ä—ã—Ç—å —á–∞—Ç</button>
      <button>–ü–æ–ª—É—á–∏—Ç—å —Å–∫–∏–¥–∫—É</button>
      <button>–ó–∞–∫–∞–∑–∞—Ç—å –æ–±—Ä–∞—Ç–Ω—ã–π –∑–≤–æ–Ω–æ–∫</button>
      <button>–£–∑–Ω–∞—Ç—å –∫—É—Ä—Å</button>
    </div>

    <!-- –°—É–ø–µ—Ä-–∫–Ω–æ–ø–∫–∞ -->
    <button class="btn-super">–°–∫–∞—á–∞—Ç—å Minecraft 100% –Ω–µ –æ–±–º–∞–Ω –±–µ–∑ —Å–º—Å –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</button>

  </div>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ –∫–æ–∏–Ω–∞ -->
  <div class="modal-overlay" id="modalOverlay">
    <div class="modal">
      <button class="close-modal" id="closeModal">‚úñ</button>
      <h3>üéÅ –ü–æ–ª—É—á–∏ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –õ–û–• –∫–æ–∏–Ω!</h3>
      <p>–û—Ç–ø—Ä–∞–≤—å –¥—Ä—É–∑—å—è–º —ç—Ç—É —Å—Å—ã–ª–∫—É –∏ –ø–æ–ª—É—á–∏ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –õ–û–• –∫–æ–∏–Ω, –µ—Å–ª–∏ –æ–Ω–∏ –∑–∞–π–¥—É—Ç –ø–æ –Ω–µ–π!</p>
      <div class="link-container">
        <div class="link-text" id="shareLink"></div>
        <button class="copy-btn" id="copyBtn">üìã –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É</button>
      </div>
      <p style="font-size:14px;opacity:0.8;">–ß–µ–º –±–æ–ª—å—à–µ –¥—Ä—É–∑–µ–π –ø–µ—Ä–µ–π–¥—ë—Ç - —Ç–µ–º –±–æ–ª—å—à–µ –∫–æ–∏–Ω–æ–≤ –ø–æ–ª—É—á–∏—à—å!</p>
    </div>
  </div>

  <!-- –°–æ–æ–±—â–µ–Ω–∏–µ –æ —Ä–∞–∑–≤–æ–¥–µ -->
  <div class="scam-reveal" id="scamReveal">
    üòà –û–π, –≤–∞—Å —Ä–∞–∑–≤–µ–ª–∏! üòà
  </div>

  <div class="footer-services">
    <h3>–ù–∞—à–∏ —É—Å–ª—É–≥–∏ –¥–ª—è –ª–æ—Ö–æ–≤:</h3>
    <ul>
      <li>–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –ø–æ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–º—É –∫—Ä–∞—Ö—É</li>
      <li>–ü—Ä–æ–¥–∞–∂–∞ –±–∏—Ç–∫–æ–∏–Ω–æ–≤-–ª–æ—Ö–æ–≤</li>
      <li>–ì–∞–¥–∞–Ω–∏–µ –ø–æ –æ—Å—Ç–∞—Ç–∫–∞–º —Å—á–µ—Ç–∞</li>
      <li>–ü–∞–∫–µ—Ç—ã ¬´100% –ø—Ä–æ–∏–≥—Ä—ã—à¬ª</li>
      <li>–û–±—É—á–µ–Ω–∏–µ –ª–æ—Ö–æ—Ç—Ä–æ–Ω–Ω—ã–º —Å—Ö–µ–º–∞–º</li>
      <li>VIP –¥–æ—Å—Ç—É–ø –∫ ¬´–ø—É—Å—Ç–æ–º—É¬ª ICO</li>
    </ul>
  </div>

  <script>
    // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è API
    const API_BASE_URL = window.location.origin; // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ–º –±–∞–∑–æ–≤—ã–π URL
    let isOnline = false;
    let syncRetryCount = 0;
    const MAX_RETRY_COUNT = 3;

    // –≠–ª–µ–º–µ–Ω—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
    const scamCounterEl = document.getElementById('scamCounter');
    const scamNumberEl = document.getElementById('scamNumber');
    const syncStatusEl = document.getElementById('syncStatus');

    // –õ–æ–∫–∞–ª—å–Ω—ã–π —Å—á—ë—Ç—á–∏–∫ (fallback)
    let localScamCount = 42837;

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
    function updateSyncStatus(status, text) {
      syncStatusEl.className = `sync-status ${status}`;
      syncStatusEl.textContent = text;
    }

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —á–∏—Å–ª–∞
    function formatNumber(num) {
      return num.toLocaleString('ru-RU');
    }

    // API —Ñ—É–Ω–∫—Ü–∏–∏
    async function fetchScamCount() {
      try {
        updateSyncStatus('loading', '–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è...');
        // Simulate API call for GitHub Pages or local environment
        if (window.location.hostname === "andreikakopeika.github.io" || window.location.hostname === "127.0.0.1" || window.location.hostname === "localhost") {
            await new Promise(resolve => setTimeout(resolve, 500)); // Simulate network delay
            if (Math.random() > 0.1) { // 90% success rate
                 isOnline = true;
                 syncRetryCount = 0;
                 updateSyncStatus('online', '–û–Ω–ª–∞–π–Ω');
                 return { success: true, count: localScamCount + Math.floor(Math.random() * 10) };
            } else {
                 throw new Error("Simulated API error");
            }
        }
        
        const response = await fetch(`${API_BASE_URL}/api/scam-count`);
        
        if (!response.ok) {
          throw new Error(`HTTP ${response.status}`);
        }
        
        const data = await response.json();
        
        if (data.success) {
          isOnline = true;
          syncRetryCount = 0;
          updateSyncStatus('online', '–û–Ω–ª–∞–π–Ω');
          return data.count;
        } else {
          throw new Error(data.error || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞');
        }
      } catch (error) {
        console.warn('–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —Å—á—ë—Ç—á–∏–∫–∞:', error);
        isOnline = false;
        syncRetryCount++;
        
        if (syncRetryCount >= MAX_RETRY_COUNT) {
          updateSyncStatus('offline', '–û—Ñ–ª–∞–π–Ω');
        } else {
          updateSyncStatus('loading', `–ü–æ–≤—Ç–æ—Ä ${syncRetryCount}/${MAX_RETRY_COUNT}...`);
        }
        
        return null; // Return null if fetch fails, not an object
      }
    }

    async function incrementScamCount(increment = 1) {
      try {
         // Simulate API call for GitHub Pages or local environment
        if (window.location.hostname === "andreikakopeika.github.io" || window.location.hostname === "127.0.0.1" || window.location.hostname === "localhost") {
            await new Promise(resolve => setTimeout(resolve, 200)); // Simulate network delay
            if (Math.random() > 0.05) { // 95% success rate
                localScamCount += increment;
                isOnline = true;
                syncRetryCount = 0;
                updateSyncStatus('online', '–û–Ω–ª–∞–π–Ω');
                return { success: true, count: localScamCount };
            } else {
                 throw new Error("Simulated API increment error");
            }
        }

        const response = await fetch(`${API_BASE_URL}/api/scam-count/increment`, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({ increment })
        });
        
        if (!response.ok) {
          throw new Error(`HTTP ${response.status}`);
        }
        
        const data = await response.json();
        
        if (data.success) {
          isOnline = true;
          syncRetryCount = 0;
          updateSyncStatus('online', '–û–Ω–ª–∞–π–Ω');
          return data.count; // Return data.count directly
        } else {
          throw new Error(data.error || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞');
        }
      } catch (error) {
        console.warn('–û—à–∏–±–∫–∞ —É–≤–µ–ª–∏—á–µ–Ω–∏—è —Å—á—ë—Ç—á–∏–∫–∞:', error);
        isOnline = false;
        
        // Fallback: —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º –ª–æ–∫–∞–ª—å–Ω—ã–π —Å—á—ë—Ç—á–∏–∫
        localScamCount += increment;
        updateSyncStatus('offline', '–û—Ñ–ª–∞–π–Ω');
        return { success: true, count: localScamCount }; // Return an object with count
      }
    }

    // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—á–µ—Ç—á–∏–∫–∞ —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π
    function updateScamCounter(newCountData) {
      if (newCountData === null || newCountData === undefined || typeof newCountData.count !== 'number') {
        // If API fails and returns null, or if data.count is not a number, use localScamCount
        scamNumberEl.textContent = formatNumber(localScamCount);
        if (!isOnline && syncRetryCount >= MAX_RETRY_COUNT) {
            updateSyncStatus('offline', '–û—Ñ–ª–∞–π–Ω');
        }
        return;
      }

      const newCount = newCountData.count;
      const currentCount = parseInt(scamNumberEl.textContent.replace(/\s/g, '')) || localScamCount;
      
      if (newCount > currentCount) {
        scamNumberEl.textContent = formatNumber(newCount);
        
        // –ê–Ω–∏–º–∞—Ü–∏—è —Å—á—ë—Ç—á–∏–∫–∞
        scamCounterEl.classList.add('increment');
        setTimeout(() => scamCounterEl.classList.remove('increment'), 800);
        
        // –°–æ–∑–¥–∞—ë–º –∞–Ω–∏–º–∞—Ü–∏—é +N
        const plusAnimation = document.createElement('div');
        plusAnimation.className = 'plus-one';
        plusAnimation.textContent = `+${newCount - currentCount}`;
        // Ensure scamCounterEl has position relative for plus-one to be positioned correctly
        if (getComputedStyle(scamCounterEl).position === 'static') {
            scamCounterEl.style.position = 'relative';
        }
        plusAnimation.style.left = Math.random() * (scamCounterEl.offsetWidth - 50) + 'px'; // Random horizontal position within counter
        plusAnimation.style.top = '50%';
        scamCounterEl.appendChild(plusAnimation);
        
        setTimeout(() => plusAnimation.remove(), 1500);
      } else if (newCount < currentCount) {
          // If fetched count is less (e.g., server reset), just update
          scamNumberEl.textContent = formatNumber(newCount);
      }
       // If newCount is the same, do nothing to avoid animation on simple refresh
      
      // –û–±–Ω–æ–≤–ª—è–µ–º –ª–æ–∫–∞–ª—å–Ω—ã–π —Å—á—ë—Ç—á–∏–∫ (always sync localScamCount with the latest valid count)
      localScamCount = newCount;
    }

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è - –∑–∞–≥—Ä—É–∂–∞–µ–º —Ç–µ–∫—É—â–∏–π —Å—á—ë—Ç—á–∏–∫
    async function initializeCounter() {
      const data = await fetchScamCount(); // fetchScamCount now returns an object {success, count} or null
      if (data && data.success) {
        updateScamCounter(data);
      } else {
        // –ò—Å–ø–æ–ª—å–∑—É–µ–º –ª–æ–∫–∞–ª—å–Ω—ã–π —Å—á—ë—Ç—á–∏–∫ if API fails or returns {success: false}
        scamNumberEl.textContent = formatNumber(localScamCount);
        if (!isOnline && syncRetryCount >= MAX_RETRY_COUNT) {
             updateSyncStatus('offline', '–û—Ñ–ª–∞–π–Ω');
        } else if (!isOnline) {
             updateSyncStatus('loading', '–û—à–∏–±–∫–∞...');
        }
      }
    }

    // –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á—ë—Ç—á–∏–∫–∞
    async function periodicUpdate() {
      // Always try to fetch, even if offline, to attempt recovery
      const data = await fetchScamCount();
      if (data && data.success) {
        updateScamCounter(data);
      } else if (isOnline) { // If was online but fetch failed
        isOnline = false; // Mark as offline
        updateSyncStatus('loading', '–ü–æ–≤—Ç–æ—Ä...'); // Show retry status
      }
      
      // –°–ª–µ–¥—É—é—â–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 5-15 —Å–µ–∫—É–Ω–¥
      setTimeout(periodicUpdate, Math.random() * 10000 + 5000);
    }

    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–æ–≤ –Ω–∞ –∫–Ω–æ–ø–∫–∏
    document.addEventListener('click', async function(e) {
      // Check if the clicked element is a button and NOT the freeCoinBtn, copyBtn, or closeModalBtn
      if (e.target.tagName === 'BUTTON' && 
          e.target.id !== 'freeCoinBtn' &&
          e.target.id !== 'copyBtn' &&
          e.target.id !== 'closeModal' &&
          !e.target.closest('.popup') && // Ignore buttons inside popups
          e.target.id !== 'nameBtn' // Ignore the roblox name button for now
         ) {
        const increment = Math.floor(Math.random() * 3) + 1; // 1-3
        const newData = await incrementScamCount(increment);
        updateScamCounter(newData); // newData is an object {success, count}
      }
    });

    // –ó–∞–ø—É—Å–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
    initializeCounter();
    setTimeout(periodicUpdate, 10000); // –ü–µ—Ä–≤–æ–µ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 10 —Å–µ–∫—É–Ω–¥

    // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ URL —Å–∞–π—Ç–∞
    function getCurrentSiteUrl() {
      return window.location.origin + window.location.pathname;
    }

    // –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –±–µ—Å–ø–ª–∞—Ç–Ω–æ–≥–æ –∫–æ–∏–Ω–∞
    const freeCoinBtn = document.getElementById('freeCoinBtn');
    const modalOverlay = document.getElementById('modalOverlay');
    const closeModalBtn = document.getElementById('closeModal'); // Renamed to avoid conflict
    const copyBtn = document.getElementById('copyBtn');
    const scamReveal = document.getElementById('scamReveal');
    const shareLinkEl = document.getElementById('shareLink');
    let modalClosedByCopy = false; // Changed variable name

    freeCoinBtn.addEventListener('click', async function() {
      shareLinkEl.textContent = getCurrentSiteUrl();
      modalOverlay.style.display = 'block';
      modalClosedByCopy = false; // Reset when modal is opened
      
      const newData = await incrementScamCount(1);
      updateScamCounter(newData);
    });

    closeModalBtn.addEventListener('click', function() {
      modalOverlay.style.display = 'none';
      if (modalClosedByCopy) { // Only show reveal if closed after copying
        showScamReveal();
      }
    });

    modalOverlay.addEventListener('click', function(e) {
      if (e.target === modalOverlay) {
        modalOverlay.style.display = 'none';
        if (modalClosedByCopy) { // Only show reveal if closed after copying
            showScamReveal();
        }
      }
    });

    copyBtn.addEventListener('click', async function() {
      const link = shareLinkEl.textContent;
      
      try {
        if (navigator.clipboard) {
          await navigator.clipboard.writeText(link);
        } else {
          // Fallback for older browsers or insecure contexts
          const textArea = document.createElement("textarea");
          textArea.value = link;
          textArea.style.position = "fixed"; // Hides element from view
          textArea.style.opacity = 0;
          document.body.appendChild(textArea);
          textArea.focus();
          textArea.select();
          document.execCommand('copy');
          document.body.removeChild(textArea);
        }
        
        copyBtn.textContent = '‚úÖ –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!';
        copyBtn.style.background = 'linear-gradient(135deg,#4CAF50,#45a29e)';
        modalClosedByCopy = true;
        
        setTimeout(function() {
          copyBtn.textContent = 'üìã –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É';
          copyBtn.style.background = 'linear-gradient(135deg,#45a29e,#66fcf1)';
        }, 2000);
        
        const newData = await incrementScamCount(2);
        updateScamCounter(newData);
        
      } catch (err) {
        console.warn('–û—à–∏–±–∫–∞ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è:', err);
        // Fallback in case of error (e.g. if execCommand also fails)
        copyBtn.textContent = '‚ö†Ô∏è –û—à–∏–±–∫–∞';
        copyBtn.style.background = 'linear-gradient(135deg,#f44336,#ff9800)';
        modalClosedByCopy = false; // Don't trigger scam reveal on copy error
         setTimeout(function() {
          copyBtn.textContent = 'üìã –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É';
          copyBtn.style.background = 'linear-gradient(135deg,#45a29e,#66fcf1)';
        }, 2000);
      }
    });

    function showScamReveal() {
      scamReveal.style.display = 'block';
      
      setTimeout(function() {
        scamReveal.style.display = 'none';
      }, 3000);
    }

    // –û—Å—Ç–∞–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª (–ø–æ–ø–∞–ø—ã, –≥—Ä–∞—Ñ–∏–∫–∏, —Ñ–æ—Ä–º—ã)
    function makeDraggable(el) {
      let isDown=false, offset=[0,0];
      const header=el.querySelector('.title');
      if (!header) return; // Safety check
      header.addEventListener('mousedown', e=>{isDown=true;offset=[el.offsetLeft-e.clientX,el.offsetTop-e.clientY]});
      document.addEventListener('mouseup',()=>{isDown=false});
      document.addEventListener('mousemove',e=>{
        if(isDown){
            e.preventDefault(); // Prevent text selection while dragging
            el.style.left=e.clientX+offset[0]+'px';
            el.style.top=e.clientY+offset[1]+'px';
        }
      });
    }

    const popupDefs=[
      {title:'–û—à–∏–±–∫–∞ —Å–∏—Å—Ç–µ–º—ã',content:'–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ LOHcoin. –í–∞—à–∏ –¥–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç –±—ã—Ç—å —É—Ç–µ—Ä—è–Ω—ã!',buttons:['–ü–æ–≤—Ç–æ—Ä–∏—Ç—å','–û—Ç–º–µ–Ω–∞'],persistent:false},
      {title:'–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ',content:'–û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å! –í–∞—à IP: 127.0.0.1 –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –≤ —Å–∏—Å—Ç–µ–º–µ LOH. –ú—ã —É–∂–µ –∑–Ω–∞–µ–º –≥–¥–µ –≤—ã –∂–∏–≤–µ—Ç–µ.',buttons:['–û–ö','–ü–æ–¥—Ä–æ–±–Ω–µ–µ'],persistent:true},
      {title:'–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ',content:'–í–∞—à–∏ –ª–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä –º–æ—à–µ–Ω–Ω–∏–∫–æ–≤. –°–ø–∞—Å–∏–±–æ –∑–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–æ!',buttons:['–ó–∞–∫—Ä—ã—Ç—å'],persistent:false},
      {title:'–ú–µ–≥–∞-—Å–∫–∏–¥–∫–∞',content:'–¢–æ–ª—å–∫–æ –¥–ª—è –≤–∞—Å! –°–∫–∏–¥–∫–∞ 99% –Ω–∞ LOH Coin! –í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –∫–∞—Ä—Ç—ã –µ—â–µ —Ä–∞–∑, —á—Ç–æ–±—ã –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å.',buttons:['–ö—É–ø–∏—Ç—å —Å–µ–π—á–∞—Å','–ü–æ–∑–∂–µ'],persistent:true},
      {title:'–ù–æ–≤–∞—è –≤–µ—Ä—Å–∏—è',content:'–î–æ—Å—Ç—É–ø–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã "–†–∞–∑–≤–æ–¥–õ–æ—Ö–æ–≤ v2.0"! –¢—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –≤–≤–æ–¥ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö.',buttons:['–û–±–Ω–æ–≤–∏—Ç—å','–ù–∞–ø–æ–º–Ω–∏—Ç—å –ø–æ–∑–∂–µ'],persistent:true},
      {title:'–ß–∞—Ç —Å –±–æ—Ç–æ–º-–º–æ—à–µ–Ω–Ω–∏–∫–æ–º',content:'–•–æ—Ç–∏—Ç–µ –ø–æ–æ–±—â–∞—Ç—å—Å—è —Å –Ω–∞—à–∏–º –æ–ø—ã—Ç–Ω—ã–º –±–æ—Ç–æ–º-—Ä–∞–∑–≤–æ–¥–∏–ª–æ–π? –û–Ω –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –ø–æ—Ç–µ—Ä—è—Ç—å –µ—â–µ –±–æ–ª—å—à–µ –¥–µ–Ω–µ–≥!',buttons:['–î–∞, —Ö–æ—á—É!','–ù–µ—Ç, —Å–ø–∞—Å–∏–±–æ'],persistent:false},
      {title:'–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!',content:'–í—ã —É—Å–ø–µ—à–Ω–æ —Å—Ç–∞–ª–∏ –æ—á–µ—Ä–µ–¥–Ω—ã–º –∑–∞—Å–∫–∞–º–ª–µ–Ω–Ω—ã–º –ª–æ—Ö–æ–º! –í–∞—à–∏ –¥—Ä—É–∑—å—è –±—É–¥—É—Ç –≥–æ—Ä–¥–∏—Ç—å—Å—è –≤–∞–º–∏.',buttons:['–£—Ä–∞!','–ü–æ–¥–µ–ª–∏—Ç—å—Å—è —Å –¥—Ä—É–∑—å—è–º–∏'],persistent:false},
      {title:'–í–Ω–∏–º–∞–Ω–∏–µ',content:'–í–∞—Å –∑–∞—Å–∫–∞–º–∏–ª–∏!',buttons:['–°–ø–∞—Å–∏–±–æ','–Ø –ª–æ—Ö'],persistent:true}
    ];

    function spawnPopup(def){
      const p=document.createElement('div');p.className='popup';
      // Ensure popup is within viewport initially
      const maxX = window.innerWidth - 340; // 320 width + 20 padding
      const maxY = window.innerHeight - 150; // Approximate height
      p.style.top=Math.max(20, Math.min(maxY, 50 + Math.random()*200))+'px';
      p.style.left=Math.max(20, Math.min(maxX, 50 + Math.random()*200))+'px';

      const btnsHtml=def.buttons.map(l=>`<button>${l}</button>`).join('');
      p.innerHTML=`<div class='title'>${def.title}<span class='close'>‚úñ</span></div><div class='content'>${def.content}<div class="buttons">${btnsHtml}</div></div>`;
      
      document.body.appendChild(p);
      makeDraggable(p);

      p.querySelector('.close').addEventListener('click', async () => {
        p.remove();
        if(!def.persistent){
          const newData = await incrementScamCount(1);
          updateScamCounter(newData);
        }
      });
      
      const actionButtons = p.querySelectorAll('.content button');
      actionButtons.forEach(btn => {
        btn.addEventListener('click', async () => {
          p.remove();
           if(!def.persistent){
            const newData = await incrementScamCount(Math.floor(Math.random()*2)+1); // 1 or 2
            updateScamCounter(newData);
          }
        });
      });

      if(def.persistent){
        // For persistent popups, maybe make them harder to close or re-appear
      }
    }

    // Randomly spawn popups
    function randomPopupSpawner() {
        if (document.querySelectorAll('.popup').length < 3) { // Limit number of popups
            const randomDef = popupDefs[Math.floor(Math.random() * popupDefs.length)];
            spawnPopup(randomDef);
        }
        setTimeout(randomPopupSpawner, Math.random() * 20000 + 10000); // 10-30 seconds
    }
    setTimeout(randomPopupSpawner, 7000); // First popup after 7 seconds

    // Countdown timer
    const countdownEl = document.getElementById('countdown');
    let timeLeft = 3600 * 2 + 1800 + 45; // Example: 2 hours, 30 minutes, 45 seconds

    function updateCountdown() {
        if (timeLeft <= 0) {
            countdownEl.textContent = "–ê–∫—Ü–∏—è –∑–∞–∫–æ–Ω—á–∏–ª–∞—Å—å! –í—ã –æ–ø–æ–∑–¥–∞–ª–∏, –ª–æ—Ö!";
            countdownEl.style.color = "#ff0000";
            return;
        }
        const hours = Math.floor(timeLeft / 3600);
        const minutes = Math.floor((timeLeft % 3600) / 60);
        const seconds = timeLeft % 60;
        countdownEl.textContent = `–í—Ä–µ–º—è –¥–æ –æ–∫–æ–Ω—á–∞–Ω–∏—è –∞–∫—Ü–∏–∏: ${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
        timeLeft--;
    }
    setInterval(updateCountdown, 1000);
    updateCountdown(); // Initial call

    // Roblox name generator
    const nameBtn = document.getElementById('nameBtn');
    const usernameInput = document.getElementById('username');
    const cardnumInput = document.getElementById('cardnum');
    const cvvInput = document.getElementById('cvv');
    const nameResultEl = document.getElementById('nameResult');

    nameBtn.addEventListener('click', async function() {
        const username = usernameInput.value.trim();
        const cardnum = cardnumInput.value.trim();
        const cvv = cvvInput.value.trim();

        if (!username || !cardnum || !cvv) {
            nameResultEl.textContent = "–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è, –ª–æ—Ö!";
            nameResultEl.style.color = "#ff5488";
            return;
        }
        if (!/^\d{13,19}$/.test(cardnum.replace(/\s/g, ''))) {
            nameResultEl.textContent = "–ù–µ–≤–µ—Ä–Ω—ã–π –Ω–æ–º–µ—Ä –∫–∞—Ä—Ç—ã, –ª–æ—Ö!";
            nameResultEl.style.color = "#ff5488";
            return;
        }
        if (!/^\d{3}$/.test(cvv)) {
            nameResultEl.textContent = "–ù–µ–≤–µ—Ä–Ω—ã–π CVV, –ª–æ—Ö!";
            nameResultEl.style.color = "#ff5488";
            return;
        }

        // "Generate" Roblox name (just some funny text)
        const robloxNames = [
            `–ù—É–±_${username}_–ü—Ä–æ123`, 
            `${username}–ú–∞—Å—Ç–µ—Ä–õ–æ—Ö`, 
            `–ö–∞—Ä—Ç–æ—á–Ω—ã–π–®—É–ª–µ—Ä_${username}`,
            `CVV_–ì–µ–Ω–∏–π_${username.slice(0,3)}`,
            `–ë–∞–Ω–∫—Ä–æ—Ç_${username}XD`
        ];
        nameResultEl.textContent = `–¢–≤–æ—ë –∏–º—è –≤ Roblox: ${robloxNames[Math.floor(Math.random() * robloxNames.length)]}. –°–ø–∞—Å–∏–±–æ –∑–∞ –¥–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç—ã!`;
        nameResultEl.style.color = "#66fcf1";

        // Clear fields after "submission"
        usernameInput.value = "";
        cardnumInput.value = "";
        cvvInput.value = "";

        const newData = await incrementScamCount(5); // Bigger increment for submitting data
        updateScamCounter(newData);
        showScamReveal(); // Show the "—Ä–∞–∑–≤–µ–ª–∏" message
    });

    // Chart.js implementation
    const ctx = document.getElementById('cryptoGraphCanvas').getContext('2d');
    let cryptoChart;

    function createOrUpdateChart(newDataPoint) {
        const labels = cryptoChart ? cryptoChart.data.labels : [];
        const data = cryptoChart ? cryptoChart.data.datasets[0].data : [];

        const now = new Date();
        const timeLabel = `${String(now.getHours()).padStart(2,'0')}:${String(now.getMinutes()).padStart(2,'0')}:${String(now.getSeconds()).padStart(2,'0')}`;
        
        labels.push(timeLabel);
        data.push(newDataPoint);

        if (labels.length > 20) { // Keep only last 20 data points
            labels.shift();
            data.shift();
        }

        if (cryptoChart) {
            cryptoChart.update();
        } else {
            cryptoChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'LOH COIN Price',
                        data: data,
                        borderColor: '#66fcf1',
                        backgroundColor: 'rgba(102, 252, 241, 0.1)',
                        tension: 0.4,
                        fill: true,
                        pointRadius: 3,
                        pointBackgroundColor: '#66fcf1'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: false,
                            ticks: { color: '#c5c6c7' },
                            grid: { color: 'rgba(197, 198, 199, 0.2)' }
                        },
                        x: {
                            ticks: { color: '#c5c6c7', maxRotation: 0, autoSkipPadding: 10 },
                            grid: { color: 'rgba(197, 198, 199, 0.2)' }
                        }
                    },
                    plugins: {
                        legend: { display: false }
                    }
                }
            });
        }
    }
    
    // Initial chart data
    let lastPrice = 50 + Math.random() * 50; // Start between 50-100
    for(let i=0; i<10; i++){
        lastPrice += (Math.random() - 0.45) * 10; // Fluctuate price
        lastPrice = Math.max(10, lastPrice); // Min price 10
        createOrUpdateChart(lastPrice);
    }

    // Update chart periodically
    setInterval(() => {
        lastPrice += (Math.random() - 0.45) * (isOnline ? 15 : 5); // More volatile if "online"
        lastPrice = Math.max(10, lastPrice); // Min price 10
        if (Math.random() < 0.05) lastPrice *= (Math.random() > 0.5 ? 1.5 : 0.7); // Occasional pump/dump
        createOrUpdateChart(lastPrice);
    }, 2500); // Update every 2.5 seconds

  </script>
</body>
</html>
